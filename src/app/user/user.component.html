<div class="tab-container">
  <div class="tabs">
    <button class="tab-btn" [class.active]="activeTab === 'user'" (click)="setActiveTab('user')">User</button>
    <button class="tab-btn" [class.active]="activeTab === 'notifications'" (click)="setActiveTab('notifications')">Notifications ({{ user.notifications.length }})</button>
  </div>

  <div class="tab-content">
    <!-- Información del usuario -->
    <div *ngIf="activeTab === 'user'">
      <p><strong>Name:</strong> {{ user.name }}</p>
      <p><strong>Age:</strong> {{ user.age }}</p>
      <p><strong>Status:</strong> {{ user.status }}</p>

      <!-- Mostrar mensaje si la cuenta está inactiva -->
      <p *ngIf="isAccountInactive()" class="inactive-message">This account is inactive. No actions are allowed.</p>

      <p><strong>Subscription:</strong></p>
      <div class="subscription-buttons">
        <button
          [class.active]="user.subscriptionType === 'free'"
          (click)="changeSubscription('free')"
          class="subscription-btn"
          [disabled]="isAccountInactive()"
        >Free</button>
        <button
          [class.active]="user.subscriptionType === 'premium'"
          (click)="changeSubscription('premium')"
          class="subscription-btn"
          [disabled]="isAccountInactive() || user.amountAvailable <= 0"
        >Premium</button>
      </div>

      <p><strong>Available Amount:</strong> ${{ user.amountAvailable }}</p>

      <!-- Redes sociales no suscritas -->
      <div class="social-networks">
        <h3>Available Social Networks</h3>
        <div class="network-list">
          <div
            *ngFor="let network of getAvailableNetworks()"
            class="network-card"
            [ngClass]="network.platform"
            [ngStyle]="{'background-color': getNetworkColor(network.platform)}"
          >
            {{ network.platform }}
            <button
              (click)="addSubscription(network.id)"
              class="add-btn"
              [disabled]="isAccountInactive()"
            >+</button>
          </div>
        </div>
      </div>

      <!-- Redes sociales suscritas -->
      <div class="subscriptions">
        <h3>Your Subscriptions</h3>
        <div class="network-list">
          <div
            *ngFor="let network of getSubscribedNetworks()"
            class="network-card"
            [ngClass]="network.platform"
            [ngStyle]="{'background-color': getNetworkColor(network.platform)}"
          >
            {{ network.platform }}
            <button
              (click)="removeSubscription(network.id)"
              class="remove-btn"
              [disabled]="isAccountInactive()"
            >x</button>
          </div>
        </div>
      </div>

      <!-- Botón de cerrar cuenta -->
      <button
        (click)="closeAccount()"
        class="close-account-btn"
        [disabled]="isAccountInactive()"
      >Close Account</button>
    </div>

    <!-- Notificaciones solo visibles cuando la pestaña 'notifications' está activa -->
    <div *ngIf="activeTab === 'notifications'">
      <p *ngFor="let notification of user.notifications">{{ notification }}</p>
    </div>
  </div>
</div>
